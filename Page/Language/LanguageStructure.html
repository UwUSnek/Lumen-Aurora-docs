

<!--------------------------------------------------------------------->
<!-- Lexical structure                                               -->
<!--------------------------------------------------------------------->
<h1 id="lexical-structure"></h1>
<moveto-doc->
    <p>
        //TODO this works as a summary for the elements of the language
    </p>
</moveto-doc->















<!--------------------------------------------------------------------->
<!-- Character set                                                   -->
<!--------------------------------------------------------------------->
<h1 id="character-set"></h1>
<moveto-doc->
    <p>
        After the <a href="#preprocessor">preprocessing phase</a>, only a <b>small number</b> of <b>characters</b> are left.<br>
        These characters <b>compose the <a href="#tokens">tokens</a></b> that are used in the compilation phase.<br>
        Any unknown character generates an error.
    </p>
    <p>
        The allowed characters are:
    </p>
    <p>
        <code>a</code> <code>b</code> <code>c</code> <code>d</code> <code>e</code> <code>f</code> <code>g</code> <code>h</code> <code>i</code> <code>j</code> <code>k</code> <code>l</code> <code>m</code>
        <code>n</code> <code>o</code> <code>p</code> <code>q</code> <code>r</code> <code>s</code> <code>t</code> <code>u</code> <code>v</code> <code>w</code> <code>x</code> <code>y</code> <code>z</code><br>
        <code>A</code> <code>B</code> <code>C</code> <code>D</code> <code>E</code> <code>F</code> <code>G</code> <code>H</code> <code>I</code> <code>J</code> <code>K</code> <code>L</code> <code>M</code>
        <code>N</code> <code>O</code> <code>P</code> <code>Q</code> <code>R</code> <code>S</code> <code>T</code> <code>U</code> <code>V</code> <code>W</code> <code>X</code> <code>Y</code> <code>Z</code><br>
        <code>0</code> <code>1</code> <code>2</code> <code>3</code> <code>4</code> <code>5</code> <code>6</code> <code>7</code> <code>8</code> <code>9</code> <code>_</code><br>
        <code>!</code> <code>$</code> <code>%</code> <code>&</code> <code>(</code> <code>)</code> <code>*</code> <code>+</code> <code>-</code> <code>/</code> <code>:</code> <code>&lt;</code> <code>=</code>
        <code>&gt;</code> <code>?</code> <code>@</code> <code>^</code> <code>`</code> <code>|</code> <code>~</code> <code>;</code> <code>{</code> <code>}</code> <code>[</code> <code>]</code> <code>.</code><br>
        <code><space-></space-></code> <code><tab-></tab-></code> <code><nl-></nl-></code>
    </p>
    <p>
        String <a href="#literals">literals</a> can contain any unicode character. They are converted to allowed characters during the compilation phase.//TODO<br>
        Carriage return characters (\r) are ignored.
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Tokens                                                          -->
<!--------------------------------------------------------------------->
<h1 id="tokens"></h1>
<moveto-doc->
    <p>
        <b>Tokens</b> are the fundamental elements of the source code of any program.<br>
        They are <b>sequences</b> of one or more <a href="#character-set">allowed <b>characters</b></a> that follow specific patterns.<br>
        One or more tokens create a <a href="#syntactic-elements">syntactic element</a>.
    </p>
    <p>
        A token ends when a character that isn't allowed in its pattern is encountered. //TODO   ".:"    "(?"    and similar cases
        Tokens can also be separated by any number of <code><tab-></tab-></code>, <code><space-></space-></code> and <code><nl-></nl-></code> characters.<br>
        Sequences of characters that don't follow any of the recognized patterns generate an error. //TODO LINK
    </p>
    <p>
        Tokens are case sensitive, with the only exception of <a href="#literals">hexadecimal literals</a>.<br>
        <code><tab-></tab-></code>, <code><space-></space-></code> and <code><nl-></nl-></code> characters are not not considered tokens.
        Instead, they are simply discarded during the tokenization phase.
    </p>
    <p>
        Tokens are divided in 4 categories:
    </p>

    <div class="table-container"><table>
        <thead>
            <tr>
                <th>Category</th>
                <th style="text-align: center;" colspan="4">Pattern</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th class="nowrap medium"><a href="#keywords">Keyword</a></th>
                <td><div class="split-td-outer">
                    <div class="split-td" style="line-height: 3ch;">
                        <a href="#namespaces">                   <code><w->namespace</w-></code></a>
                        <a href="#enums">                        <code><w->enum</w-></code></a>
                        <a href="#structs">                      <code><w->struct</w-></code></a>
                        <a href="#const-qualifier">              <code><t->const</t-></code></a>
                        <a href="#auto-specifier">               <code><t->auto</t-></code></a>
                        <a href="#typeof-specifier">             <code><t->typeof</t-></code></a>
                        <a href="#symbol-aliases">               <code><w->alias</w-></code></a>
                        <a href="#import-directive">             <code><w->from</w-></code></a>
                        <a href="#import-directive">             <code><w->import</w-></code></a>
                        <a href="#export-directive">             <code><w->export</w-></code></a>
                        <a href="#pointer-types">                <code><w->addr</w-></code></a>
                        <a href="#pointer-types">                <code>@</code></a>
                    </div>
                    <div class="split-td" style="line-height: 3ch;">
                        <a href="#if-statement">                 <code><w->if</w-></code></a>
                        <a href="#match-statement">              <code><w->match</w-></code></a>
                        <a href="#for-loops">                    <code><w->for</w-></code></a>
                        <a href="#while-loops">                  <code><w->while</w-></code></a>
                        <a href="#while-loops">                  <code><w->do</w-></code></a>
                        <a href="#continue-and-break-statements"><code><w->continue</w-></code></a>
                        <a href="#continue-and-break-statements"><code><w->break</w-></code></a>
                        <a href="#once-statement">               <code><w->once</w-></code></a>
                        <a href="#then-statement">               <code><w->then</w-></code></a>
                        <a href="#else-statement">               <code><w->else</w-></code></a>
                        <a href="#return-statement">             <code><w->return</w-></code></a>
                        <a href="#defer-statement">              <code><w->defer</w-></code></a>
                    </div>
                    <div class="split-td" style="line-height: 3ch;">
                        <elm->                                   <code>(</code><code>)</code></elm->
                        <a href="#scopes-and-symbols">           <elm-><code>{</code><code>}</code></elm-></a>
                        <a href="#statements">                   <code>,</code></a>
                        <a href="#statements">                   <code> ;</code></a>
                        <a href="#scopes-and-symbols">           <code>.</code></a>
                        <a href="#reflection">                   <code>:</code></a>
                    </div>
                </div></td>
            </tr>
            <tr>
                <th class="nowrap medium"><a href="#meta-keywords">Meta keyword</a></th>
                <td><div class="split-td-outer">
                    <div class="split-td">
                        <a href="#templates">                       <code><w->template</w-></code></a>
                        <a href="#templates">                       <elm-><code>&lt;</code><code>&gt;</code></elm-></a>
                        <a href="#template-parameters">             <code><w->type</w-></code></a>
                        <a href="#template-parameters">             <code>!</code></a>
                        <a href="#abbreviated-template-syntax">     <code>?</code></a>
                    </div>
                    <div class="split-td">
                        <a href="#specialization-constraint">       <code><w->when</w-></code></a>
                        <a href="#declarations.operator-precedence"><code><w->priority</w-></code></a>
                        <code><w->as</w-></code>
                        <code><w->to</w-></code>
                        <code>=</code>
                        <a href="enums"><code>:</code></a>
                        <code>...</code>
                        <a href="#reference-parameters"><code>&</code></a>
                        <a href="#pointer-types"><code>*</code></a>
                    </div>
                </div></td>
            </tr>
            <tr>
                <th class="nowrap medium"><a href="#literals">Literal</a></th>
                <td><div class="split-td-outer">
                    <div clas="split-td" style="line-height: 3ch;">
                        <ul><ul>Any sequence of characters with pattern:
                            <li><code><regex->(0[dbxo])?[0-9a-zA-Z_]+(\.[0-9a-zA-Z_]*)?</regex-></code></li>
                            <li><code><regex->[rf]?"</regex-><c- class="x-small">anything but unescaped double-quotes</c-><s->"</s-></code></li>
                            <li><code><s->'</s-><c- class="x-small">anything but unescaped quotes</c-><s->'</s-></code></li>
                        </ul></ul>
                    </div>
                </div></td>
            </tr>
            <tr>
                <th class="nowrap medium"><a href="#identifiers">Identifier</a></th>
                <td><div class="split-td-outer">
                    <div clas="split-td">
                        Any sequence of characters with pattern
                        <code><regex->[a-zA-Z][a-zA-Z0-9]*</regex-></code> or
                        <code><regex->[!$%&*+\-/&lt;=&gt;?\[\]^`|~]+</regex-></code>
                        that isn't a <a href="#keywords">keyword</a> or a <a href="#literals">literal</a>.
                    </div>
                </div></td>
            </tr>
        </tbody>
    </table></div>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- keywords                                                        -->
<!--------------------------------------------------------------------->
<h1 id="keywords"></h1>
<moveto-doc->
    <p>
        <b>Keywords</b> are <b>built-in <a href="#tokens">tokens</a></b> that perform hard coded actions or have <b>special meaning</b>.<br>
        The language defines a total of 28 alphanumeric keywords and 6 symbolic keywords.<br>
        Their usage is detailedly explained in their respective sections.
    </p>
    <ul>
        <li>Misc keywords</li>
        <ul class="summary-list">
            <li>
                <span><a href="#import-directive"><code><w->from</w-></code></a></span>
                <span>Introduces an <a href="#import-directive">import directive</a>.</span>
            </li>
            <li>
                <span><a href="#import-directive"><code><w->import</w-></code></a></span>
                <span>Imports symbols from a <a href="#modules">module</a> while preserving the container <a href="#namespaces">namespace</a>.</span>
            </li>
            <li>
                <span><a href="#export-directive"><code><w->export</w-></code></a></span>
                <span>Defines which symbols can be exported from the current <a href="#modules">module</a>.</span>
            </li>
            <li>
                <span><a href="#pointer-types"><code><w->addr</w-></code></a></span>
                <span>Retrieves the address of an <a href="#right-and-left-values">l-value</a>.</span>
            </li>
            <li>
                <span><a href="#pointer-types"><code>@</code></a></span>
                <span>Dereferences a <a href="#pointer-types">pointer</a> in order to acces its value.</span>
            </li>
        </ul><br>
        <li>Declaration keywords</li>
        <ul class="summary-list">
            <li>
                <span><a href="#namespaces"><code><w->namespace</w-></code></a></span>
                <span>Used to declare a <a href="#namespaces">namespace</a>.</span>
            </li>
            <li>
                <span><a href="#enums"><code><w->enum</w-></code></a></span>
                <span>Used to declare an <a href="#enums">enum</a>.</span>
            </li>
            <li>
                <span><a href="#structs"><code><w->struct</w-></code></a></span>
                <span>Used to declare a <a href="#structs">struct</a>.</span>
            </li>
            <li>
                <span><a href="#symbol-aliases"><code><w->alias</w-></code></a></span>
                <span>Creates an alternative <a href="#name-resolution">path</a> for a <a href="#name-resolution">symbol</a>.</span>
            </li>
            <li>
                <span><a href="#const-qualifier"><code><t->const</t-></code></a></span>
                <span>Specifies that a pointer type is const. Also used to declare const variables and routine parameters.</span>
            </li>
            <li>
                <span><a href="#auto-specifier"><code><t->auto</t-></code></a></span>
                <span>Can be used in place of the <a href="#types">type</a> in the declaration of a <a href="#variables">variable</a>, a <a href="#routine-parameters">routine parameter</a> or a <a href="#routines">routine</a> to automatically use the best type based on its initializer <a href="#values">value</a> or return value.</span>
            </li>
            <li>
                <span><a href="#typeof-specifier"><code><t->typeof</t-></code></a></span>
                <span>Retrieves the <a href="#types">type</a> of an <a href="#expressions">expression</a>.</span>
            </li>
        </ul><br>
        <li>Flow control keywords</li>
        <ul class="summary-list">
            <li>
                <span><a href="#if-statement"><code><w->if</w-></code></a></span>
                <span>Used in the if selection statement.</span>
            </li>
            <li>
                <span><a href="#match-statement"><code><w->match</w-></code></a></span>
                <span>Used in the match selection statement.</span>
            </li>
            <li>
                <span><a href="#for-loops"><code><w->for</w-></code></a></span>
                <span>Used in the for loops.</span>
            </li>
            <li>
                <span><a href="#while-loops"><code><w->while</w-></code></a></span>
                <span>Used in the while loops.</span>
            </li>
            <li>
                <span><a href="#while-loops"><code><w->do</w-></code></a></span>
                <span>Used with <a href="#while-loops"><code><w->while</w-></code></a> to check the <a href="#bool-type">condition</a> after having executed the <a href="#statements">statement</a> instead of the other way around.</span>
            </li>
            <li>
                <span><a href="#continue-and-break-statements"><code><w->continue</w-></code></a></span>
                <span>Used to skip iterations.</span>
            </li>
            <li>
                <span><a href="#continue-and-break-statements"><code><w->break</w-></code></a></span>
                <span>Used to skip all the remaining iteration of one or more loops.</span>
            </li>
            <li>
                <span><a href="#once-statement"><code><w->once</w-></code></a></span>
                <span>Used to execute a statement during the first iteration.</span>
            </li>
            <li>
                <span><a href="#then-statement"><code><w->then</w-></code></a></span>
                <span>Used to execute a statement based on the outcome of the preceding loop or if.</span>
            </li>
            <li>
                <span><a href="#else-statement"><code><w->else</w-></code></a></span>
                <span>Used to execute a statement based on the outcome of the preceding loop or if.</span>
            </li>
            <li>
                <span><a href="#return-statement"><code><w->return</w-></code></a></span>
                <span>Returns the execution to the <a href="#function-calls">caller function</a>.</span>
            </li>
            <li>
                <span><a href="#defer-statement"><code><w->defer</w-></code></a></span>
                <span>Delays a <a href="#routine-calls">routine call</a> until the first <a href="#return-statement"><code><w->return</w-></code></a> statement is encountered.</span>
            </li>
        </ul><br>
        <li>Containers</li>
        <ul class="summary-list">
            <li>
                <span><elm-><code>(</code><code>)</code></elm-></span>
                <span>Groups an <a href="#expressions">expression</a>, or encloses a list of <a href="#routine-parameters">routine parameters</a>. Also used for <a href="#declarations.operator-precedence">operator precedence</a> and <a href="#specialization-constraints">specialization constraints.</a></span>
            </li>
            <li>
                <span><a href="#scopes"><elm-><code>{</code><code>}</code></elm-></a></span>
                <span>Declares a new <a href="#scopes">scope</a>. Used to declare most <a href="#syntactic-elements">syntactic elements</a>.</span>
            </li>
        </ul><br>
        <li>Separators</li>
        <ul class="summary-list">
            <li>
                <span><a href="#statements"><code>,</code></a></span>
                <span>Separates 2 or more <a href="#expressions">expressions</a> or <a href="#match-statement">match cases</a>.</span>
            </li>
            <li>
                <span><a href="#statements"><code>;</code></a></span>
                <span>Defines the end of <a href="#expression-statements">expression statements</a> or certain declarations and directives.</span>
            </li>
            <li>
                <span><a href="#name-resolution"><code>.</code></a></span>
                <span>Concatenates 2 or more symbol names to form a <a href="#language-structure.paths">symbol path</a>.
            </li>
            <li>
                <span><a href="#reflection"><code>:</code></a></span>
                <span>Concatenates 2 or more symbol names to form a <a href="#reflection">Reflection path</a>.</span>
            </li>
        </ul>
    </ul>
    <p>
        <a href="#keywords">Keywords</a> cannot be <a href="#name-shadowing">shadowed</a> like <a href="#identifiers">identifiers</a>.<br>
        Attempting to do so generates a semantic error. //TODO LINK
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Meta keywords                                                   -->
<!--------------------------------------------------------------------->
<h1 id="meta-keywords"></h1>
<moveto-doc->
    <p>
        <b>Meta keywords</b> are <a href="#tokens">tokens</a> that only have meaning when <b>combined</b> with other <a href="#keywords"><b>keywords</b></a> or <a href="#name-resolution">semantic elements</a>.<br>
        When active, they always take precedence over <a href="#identifiers">identifiers</a>.
    </p>
    <ul>
        <li><a href="#templates">Templates</a></li>
        <ul class="summary-list">
            <li>
                <span><a href="#templates"><code><w->template</w-></code></a></span>
                <span>
                    Used to declare a <a href="#templates">template</a><br>
                    <span class="meta-keyword-constraint">[When used before the <a href="#templates"><elm-><code>&lt;</code><code>&gt;</code></elm-></a> meta keyword]</span>.
                </span>
            </li>
            <li>
                <span><elm-><code>&lt;</code><code>&gt;</code></elm-></span>
                <span>
                    Part of the <a href="#templates">template</a> declaration, or part of the the <a href="#local-names">local name</a> of <a href="#templates">template</a> <a href="#name-resolution">symbols</a>. Also used in <a href="#import-directive">import directives</a><br>
                    <span class="meta-keyword-constraint">[When used after the <a href="#templates"><code><w->template</w-></code></a> meta keyword, after the <a href="#name-resolution">path</a> to a <a href="#templates">template</a> <a href="#name-resolution">symbol</a> or around the module name in an <a href="#import-directive">import directive</a>]</span>.
                </span>
            </li>
            <li>
                <span><a href="#template-parameters"><code><w->type</w-></code></a></span>
                <span>
                    Used to declare type <a href="#template-parameters">template parameters</a> or type <a href="#template-parameter-packs">template parameter packs</a><br>
                    <span class="meta-keyword-constraint">[When used as type in the declaration of a <a href="#template-parameters">template parameter</a> or <a href="#template-parameter-packs">template parameter pack</a>]</span>.
                </span>
            </li>
            <li>
                <span><a href="#abbreviated-template-syntax"><code>!</code></a></span>
                <span>
                    Identifies the parameters whose arguments are used to deduce a type template parameter or type template parameter pack<br>
                    <span class="meta-keyword-constraint">[When used between the type and the identifier in the declaration of a routine parameter or function parameter pack]</span>.
                </span>
            </li>
            <li>
                <span><a href="#abbreviated-template-syntax"><code>?</code></a></span>
                <span>
                    <a href="#abbreviated-template-syntax">Abbreviated template syntax</a><br>
                    <span class="meta-keyword-constraint">[When used between the type and the identifier of a <a href="#name-resolution">symbol</a> declaration inside a struct or routine declaration]</span>.
                </span>
            </li>
        </ul><br>
        <li>Misc</li>
        <ul class="summary-list">
            <li>
                <span><a href="#templates"><code><w->when</w-></code></a></span>
                <span>
                    Specifies a <a href="#specialization-constraints">specialization constraint</a><br>
                    <span class="meta-keyword-constraint">[When used before the body of a routine or struct declaration</span>.
                </span>
            </li>
            <li>
                <span><a href="#declarations.operator-precedence"><code><w->priority</w-></code></a></span>
                <span>
                    Defines the <a href="#declarations.operator-precedence">priority</a> of an <a href="#operators">operator</a><br>
                    <span class="meta-keyword-constraint">[When used at the end of the signature of an <a href="#operators">operator</a> or <a href="#templates">operator template</a> declaration]</span>.
                </span>
            </li>
            <li>
                <span><code><w->as</w-></code></span>
                <span>
                    Defines the name of the counter <a href="#variables">variable</a> of a <a href="#for-loops">for loop</a>, a new name for an <a href="#export-directive">exported</a> or <a href="#import-directive">imported</a> <a href="#name-resolution"> symbol</a>, or the new identifier used for a <a href="#symbol-aliases">symbol alias</a><br>
                    <span class="meta-keyword-constraint">[When used in the signature of a <a href="#for-loops">for-each</a>, <a href="#for-loops">for-n</a> or <a href="#for-loops">for-range</a> loop, after the name of a <a href="#name-resolution">symbol</a> in an <a href="#import-directive">import</a> or <a href="#export-directive">export</a> directive or in a <a href="#symbol-aliases">symbol alias</a> declaration]</span>.
                </span>
            </li>
            <li>
                <span><code><w->to</w-></code></span>
                <span>
                    Defines the end of a numerical range<br>
                    <span class="meta-keyword-constraint">[When used in the value of a <a href="#for-loops">for-range</a> loop or a <a href="#match-statement">match case</a>]</span>.
                </span>
            </li>
            <li>
                <span><code>=</code></span>
                <span>
                    Used to assign initializer values to <a href="#variables">variables</a> and default values to <a href="#routine-parameter">routine parameters</a><br> //TODO templates can prob have def values<br>
                    <span class="meta-keyword-constraint">[When used after the name of a <a href="#variables">variable</a> or <a href="#routine-parameters">routine parameter</a> declaration]</span>.
                </span>
            </li>
            <li>
                <span><code>:</code></span>
                <span>
                    Specifies the base type of an enum<br>
                    <span class="meta-keyword-constraint">[When used after the identifier of an enum declaration]</span>.
                </span>
            </li>
            <li>
                <span><code>...</code></span>
                <span>
                    Used to declare <a href="#template-parameter-packs">template parameter packs</a> and <a href="function parameter packs">function parameter packs</a><br>
                    <span class="meta-keyword-constraint">[When used after the identifier in the declaration of a template parameter pack or function parameter pack, or, if inside a struct or routine declaration, between the type and the identifier in the declaration of a routine parameter or function parameter pack]</span>.
                </span>
            </li>
            <li>
                <span><code>&</code></span>
                <span>
                    Used todeclare a reference parameter<br>
                    <span class="meta-keyword-constraint">[When used between the type and the identifier of a reference parameter]</span>.
                </span>
            </li>
            <li>
                <span><a href="#pointer-types"><code>*</code></a></span>
                <span>
                    Identifies the <a href="pointer-types">pointer version</a> of a type.<br>
                    <span class="meta-keyword-constraint">[When used at the end of a type path]</span>.
                </span>
            </li>
        </ul>
    </ul>
</moveto-doc->











<!--------------------------------------------------------------------->
<!-- Literals                                                        -->
<!--------------------------------------------------------------------->
<h1 id="literal-tokens"></h1>
<moveto-doc->
    <p>
        <b>Literals</b> are a <b>special type</b> of <a href="#tokens"><b>token</b></a>, as they can contain both alphanumeric characters and <code>.</code>.<br>
        Their usage and syntax are explained in <a href="#literals">Literals</a>.
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Identifiers                                                     -->
<!--------------------------------------------------------------------->
<h1 id="identifiers"></h1>
<moveto-doc->
    <p>
        <b>Identifiers</b> are used to <b>name and reference <a href="#name-resolution">symbols</a></b>.<br>
        An identifier can be
        alphanumeric (<code><regex->[a-zA-Z][a-zA-Z0-9]*</regex-></code>)
        or symbolic (<code><regex->[!$%&*+\-/&lt;=&gt;?\[\]^`|~]+</regex-></code>).
    </p>
    <p>
        Identifiers can be shadowed. This is explained in <a href="#name-shadowing">Name shadowing</a>.
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Syntactic elements                                               -->
<!--------------------------------------------------------------------->
<h1 id="syntactic-elements"></h1>
<moveto-doc->
    <p>
        <b>Syntactic elements</b> are <b>sequences</b> of one or more <a href="#tokens"><b>tokens</b></a> or other syntactic elements that follow specific patterns.<br>
        They define the contents and interface of the <a href="#modules">module</a>.
    </p>
    <p>
        Syntactic elements are divided in 6 categories:
    </p>


    <div class="table-container"><table>
        <tr>
            <th>Category</th>
            <th>Syntactic element</th>
        </tr>
        <tr>
            <th class="nowrap medium"><a href="#language-structure.directives">Directive</a></th>
            <td><div class="split-td-outer">
                <div class="split-td">
                    <even-elm-><a href="#import-directive">Import </a> directive</even-elm->
                    <even-elm-><a href="#export-directive"><code><w->export</w-></code></a> directive</even-elm->
                    <even-elm-><a href="#construct-directive"><code><w->construct</w-></code></a> directive</even-elm->
                </div>
            </div></td>
        </tr>
        <tr>
            <th class="nowrap medium"><a href="#name-resolution">Declaration</a></th>
            <td><div class="split-td-outer">
                <div class="split-td">
                    <even-elm-><a href="#enums"><code><w->enum</w-></code></a> declaration</even-elm->
                    <even-elm-><a href="#enums"><code><w->enum</w-></code></a> element declaration</even-elm->
                    <even-elm-><a href="#structs"><code><w->struct</w-></code></a> declaration</even-elm->
                    <even-elm-><a href="#structs"><code><w->struct</w-></code></a> member declaration</even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#functions">Function</a> declaration</even-elm->
                    <even-elm-><a href="#operators">Operator</a> declaration</even-elm->
                    <even-elm-><a href="#routine-parameters">Routine parameter</a></even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#namespaces"><code><w->namespace</w-></code></a> declaration</even-elm->
                    <even-elm-><a href="#templates"><code><w->template</w-></code></a> declaration</even-elm->
                    <even-elm-><a href="#symbol-aliases"><code><w->alias</w-></code></a> declaration</even-elm->
                    <even-elm-><a href="#variables">Variable</a> declaration</even-elm->
                </div>
            </div></td>
        </tr>
        <tr>
            <th class="nowrap medium"><a href="#language-structure.statements">Statement</a></th>
            <td><div class="split-td-outer">
                <div class="split-td">
                    <even-elm-><a href="#if-statement"><code><w->if</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#match-statement"><code><w->match</w-></code></a> statement</even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#while-loops"><code><w->while</w-></code></a> loop</even-elm->
                    <even-elm-><a href="#for-loops"><code><w->for</w-></code></a> loop</even-elm->
                    <even-elm-><a href="#once-statement"><code><w->once</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#then-statement"><code><w->then</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#break-statement"><code><w->break</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#continue-statement"><code><w->continue</w-></code></a> statement</even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#return-statement"><code><w->return</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#defer-statement"><code><w->defer</w-></code></a> statement</even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#else-statement"><code><w->else</w-></code></a> statement</even-elm->
                    <even-elm-><a href="#expressions">Expression statement</a></even-elm->
                    <even-elm-><a href="#unnamed-scopes">Unnamed scope</a></even-elm->
                    <even-elm-><a href="#empty-statement">Empty statement</a></even-elm->
                    <even-elm-><a href="#inline-glsl">Inline GLSL</a></even-elm->
                    <even-elm-><a href="#inline-cpp">Inline C++</a></even-elm->
                </div>
            </div></td>
        </tr>
        <tr>
            <th class="nowrap medium"><a href="#language-structure.expressions">Expression</a></th>
            <td><div class="split-td-outer">
                <div class="split-td">
                    <even-elm-><a href="#literals">Literal</a></even-elm->
                    <even-elm-><a href="#try-expression"><code><w->try</w-></code> expression</a></even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#variables">Variable</a></even-elm->
                    <even-elm-><a href="#temporary-variables">Temporary variable</a></even-elm->
                    <even-elm-><a href="#routine-parameters">Routine parameter</a></even-elm->
                </div>
                <div class="split-td">
                    <even-elm-><a href="#function-calls">Function call</a></even-elm->
                    <even-elm-><a href="#operator-calls">Operator call</a></even-elm->
                </div>
            </div></td>
        </tr>
        <tr>
            <th class="nowrap medium"><a href="#language-structure.paths">Paths</a></th>
            <td><div class="split-td-outer">
                <div>
                    <even-elm-><a href="#symbol-paths">Symbol path</a></even-elm->
                    <even-elm-><a href="#symbol-reflection-paths">Symbol reflection path</a></even-elm->
                </div>
            </div></td>
        </tr>
    </table></div>



    <p>
        <a href="#structs">structs</a>, <a href="#routines">routines</a>, <a href="#templates">templates</a> and the <a href="#while-loops"><code><w->while</w-></code> loop</a>
        are divided in sub-elements in order to provide a clear and concise syntax.<br>
    </p>
    <ul>
        <li>Declaration sub-elements</li>
        <ul class="summary-list">
            <li>
                <span><a href="#structs">Struct</a> signature</span>
                <span>Defines the name of a <a href="#structs">struct</a>.</span>
            </li>
            <li>
                <span><a href="#structs">Struct</a> body</span>
                <span>Contains the <a href="#structs">struct</a> members and other allowed declarations.</span>
            </li>
            <li>
                <span><a href="#functions">Function</a> signature</span>
                <span>Defines the name, <a href="#return-statement">return type</a> and <a href="#routine-parameters">parameters</a> of a <a href="#functions">function</a></span>
            </li>
            <li>
                <span><a href="#operators">Operator</a> signature</span>
                <span>Defines the names, <a href="#return-statement">return type</a>, <a href="#routine-parameters">parameters</a>, <a href="#declarations.operator-precedence">priority</a> and <a href="#declarations.operator-precedence">associativity</a> of an <a href="#operators">operator</a></span>
            </li>
            <li>
                <span><a href="#routines">Routine</a> body</span>
                <span>Contains the <a href="#statements">statements</a> and other allowed declarations of a <a href="#routines">routine</a></span>
            </li>
            <li>
                <span><a href="#templates">Template</a> signature</span>
                <span>Defines the name and parameters of a <a href="#templates">template</a></span>
            </li>
            <li>
                <span><a href="#specialization-constraints">Specialization constraint</a></span>
                <span>Defines the <a href="#specialization-constraints">constraint</a> that determines when the subsequent element body is suitable for specialization</span>
            </li>
        </ul><br>
        <li>Other sub-elements</li>
        <ul class="summary-list">
            <li>
                <span><a href="#while-loops">While</a> signature</span>
                <span>Defines the <a href="boolean-type">condition</a> of a <a href="while-loops">while loop</a></span>
            </li>
            <li>
                <span>Specialization constraint</span>
                <span>Specifies a constraint whose result determines when a struct or routine declaration can be used.</span>
            </li>
        </ul>
    </ul>
</moveto-doc->







<!--------------------------------------------------------------------->
<!-- Directives                                                      -->
<!--------------------------------------------------------------------->
<h1 id="language-structure.directives"></h1>
<moveto-doc->
    <p>
        <b>Directives</b> are instructions that <b>modify</b> the <a href="#modules">module</a> on a <b>semantic</b> level.<br>
        They are used to define which <a href="#name-resolution">symbols</a> are <a href="#import-directive">imported</a> and/or <a href="#export-directive">exported</a> and to programmatically generate code.
    </p>
    <ul>
        <li>Module interface</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#import-directive">Improt</a> directive</elm-></span>
                <span><a href="#import-directive">Imports</a> <a href="#name-resolution">symbols</a> from a <a href="#modules">module</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#export-directive"><code><w->export</w-></code></a> directive</elm-></span>
                <span>Defines the <a href="#name-resolution">symbols</a> the <a href="#modules">module</a> provides when <a href="#import-directive">imported</a>.</span>
            </li>
        </ul>
        <li>Code generation</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#construct-directive"><code><w->construct</w-></code></a> directive</elm-></span>
                <span>Generates code in the corresponding language by compiling and running Lumen code before the compilation phase. //TODO other languages</span>
            </li>
        </ul>
    </ul>
</moveto-doc->





<!--------------------------------------------------------------------->
<!-- Declarations                                                    -->
<!--------------------------------------------------------------------->
<h1 id="language-structure.declarations"></h1>
<moveto-doc->
    <p>
        <b>Declarations</b> define user-defined elements, such as <a href="#structs">structs</a>, <a href="#enums">enums</a>, <a href="#routines">routines</a>, <a href="#namespaces">namespaces</a>, <a href="#templates">templates</a>, <a href="#symbol-aliases">symbol aliases and <a href="#variables">variables</a>.</a><br>
        Anything defined through a declaration is called a <b>Symbol</b>. Symbols can be referenced through their <a href="#name-resolution">path</a>. This is explained in <a href="#name-resolution">Name resolution</a>.<br>
        There are a total of 11 user-defined elements. They are available in both languages.
    </p>
    <ul>
        <li>Types</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#enums"><code><w->enum</w-></code></a> declaration</elm-></span>
                <span>Declares an <a href="#enums">enum</a>, a type used to group <a href="#compile-time-expressions">compile time expressions</a> of the same <a href="#types">type</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#enums"><code><w->enum</w-></code></a> element declaration</elm-></span>
                <span>Defines one or more <a href="#enums">enum</a> elements and their values.</span>
            </li>
            <li>
                <span><elm-><a href="#structs"><code><w->struct</w-></code></a> declaration</elm-></span>
                <span>Declares a <a href="#structs">struct</a>, a type used to group <a href="#variables">variables</a> of different <a href="#types">types</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#structs"><code><w->struct</w-></code></a> member declaration</elm-></span>
                <span>Defines one ore more <a href="#structs">struct</a> members.</span>
            </li>
        </ul><br>
        <li>Routines</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#functions">Function</a> declaration</elm-></span>
                <span>Declares a <a href="#functions">function</a>, a prefix <a href="#routines">routine</a> that requires parentheses to be <a href="#function-calls">called</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#operators">Operator</a> declaration</elm-></span>
                <span>Declares an <a href="#operators">operator</a>, a <a href="#routines">routine</a> that doesn't require parentheses to be <a href="#operator-calls">called</a> and can use multiple symbolic or alphanumeric <a href="#identifiers">identifiers</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#routine-parameters">Routine parameter</a></elm-></span>
                <span>Defines an input values for a <a href="routines">routine</a>.</span>
            </li>
        </ul><br>
        <li>Misc</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#namespaces"><code><w->namespace</w-></code></a> declaration</elm-></span>
                <span>Declares a named <a href="#scopes">scope</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#templates"><code><w->template</w-></code></a> declaration</elm-></span>
                <span>Generates <a href="#structs">struct</a>, <a href="#functions">function</a> or <a href="#operators">operator</a> declarations based on the explicit <a href="#templates">template</a> arguments or the <a href="#types">types</a> used in the <a href="#routine-calls">routine calls</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#symbol-aliases"><code><w->alias</w-></code></a> declaration</elm-></span>
                <span>Declares an alternative <a href="#symbol-paths">path</a> for a <a href="#name-resolution">symbol</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#variables">Variable</a> declaration</elm-></span>
                <span>Declares one or more named memory locations that can store <a href="#values">values</a>.</span>
            </li>
        </ul>
    </ul>
</moveto-doc->




<!--------------------------------------------------------------------->
<!-- Statements                                                      -->
<!--------------------------------------------------------------------->
<h1 id="language-structure.statements"></h1>
<moveto-doc->
    <p>
        <b>Statements</b> perform actions during runtime. They define the behaviour of each <a href="#routines">routine</a>, their return value and runtime performance.<br>
        Statements are hard coded into the languages and cannot be modified. There are a total of 16 statements, 2 of which can only be used in their respective language.
    </p>
    <ul>
        <li>Selection</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#if-statement"><code><w->if</w-></code></a> statement</elm-></span>
                <span>Executes a <a href="#statements">statement</a> if its condition evaluates to <a href="#boolean-type"><code><k->true</k-></code></a>.</span>
            </li>
            <li>
                <span><elm-><a href="#match-statement"><code><w->match</w-></code></a> statement</elm-></span>
                <span>Executes <a href="#statements">statements</a> based on the value of an <a href="#expressions">expression</a>.</span>
            </li>
        </ul><br>
        <li>Iteration</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#for-loops"><code><w->for</w-></code></a> loop</elm-></span>
                <span>Executes a <a href="#statements">statement</a> a fixed amount of times.</span>
            </li>
            <li>
                <span><elm-><a href="#while-loops"><code><w->while</w-></code></a> loop</elm-></span>
                <span>Executes a <a href="#statements">statement</a> until its condition evaluates to <a href="#boolean-type"><code><k->false</k-></code></a>.</span>
            </li>
            <li>
                <span><elm-><a href="#continue-statement"><code><w->continue</w-></code></a> statement</elm-></span>
                <span>Skips an arbitrary number of iterations of the innermost enclosing <a href="#iteration">loop</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#break-statement"><code><w->break</w-></code></a> statement</elm-></span>
                <span>Skips all the remaining iterations of an arbitrary number of enclosing <a href="#iteration">loops</a>, starting from the innermost.</span>
            </li>
            <li>
                <span><elm-><a href="#once-statement"><code><w->once</w-></code></a> statement</elm-></span>
                <span>Executes a <a href="#statements">statement</a> during the first iteration of the innermost enclosing <a href="#iteration">loop</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#then-statement"><code><w->then</w-></code></a> statement</elm-></span>
                <span>Executes a <a href="#statements">statement</a> if the immediatly preceding <a href="#iteration">loop</a> didn't stop through a <a href="#break-statement"><code><w->break</w-></code> statement</a> and completed at least one iteration.</span>
            </li>
        </ul><br>
        <li>Non-local</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#return-statement"><code><w->return</w-></code></a> statement</elm-></span>
                <span>Returns the flow control to the caller <a href="#routines">routine</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#defer-statement"><code><w->defer</w-></code></a> statement</elm-></span>
                <span>Evaluates all the <a href="#routine-calls">arguments</a> of a <a href="#routine-calls">routine call</a> but delays its execution until the first <a href="#return-statement"><code><w->return</w-></code> statement</a> is encountered and all the <a href="#routine-calls">routine calls</a> of subsequent <a href="defer-statement"><code><w->defer</w-></code> statements</a> are executed.</span>
            </li>
        </ul><br>
        <li>Misc</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#else-statement"><code><w->else</w-></code></a> statement</elm-></span>
                <span>Executes a <a href="#statements">statement</a> if the <a href="#bool-type">condition</a> of the immediatly preceding <a href="#iteration">loop</a> or <a href="#if-statement"><code><w->if</w-></code> statement</a> evaluated to <code><t->false</t-></code> before the first iteration.</span>
            </li>
            <li>
                <span><elm-><a href="#expressions">Expression statement</a></elm-></span>
                <span>Evaluates an <a href="#expresisons">expression</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#unnamed-scopes">Unnamed scope</a></elm-></span>
                <span>Groups multiple <a href="#statements">statements</a> in one.</span>
            </li>
            <li>
                <span><elm-><a href="#empty-statement">Empty statement</a></elm-></span>
                <span>Does nothing.</span>
            </li>
            <li>
                <span><elm-><a href="#inline-glsl">Inline GLSL</a></elm-></span>
                <span><Lumen-logo-></Lumen-logo-> Allows GLSL 4.60 code to be used from within Lumen.</span>
            </li>
            <li>
                <span><elm-><a href="#inline-cpp">Inline C++</a></elm-></span>
                <span><aurora-logo-></aurora-logo-> Allows C++20 code to be used from within Aurora.</span>
            </li>
        </ul>
    </ul>
</moveto-doc->




<!--------------------------------------------------------------------->
<!-- Expressions                                                     -->
<!--------------------------------------------------------------------->
<h1 id="language-structure.expressions"></h1>
<moveto-doc->
    <p>
        <b>Expressions</b> generate values. They are mostly used to declare <a href="#name-resolution">symbols</a> and call <a href="#routines">routines</a>.
    </p>
    <ul>
        <li>Inline values</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#literals">Literal</a></elm-></span>
                <span>Generates a value of a <a href="#primitive-types">primitive type</a> by interpreting the token in the specified numerical base.</span>
            </li>
            <li>
                <span><elm-><a href="#try-expression"><code><w->try</w-></code> expression</a></elm-></span>
                <span>Compiles a portion of code. Evaluates to <a href="#boolean-type"><code><k->true</k-></code></a> if the code doesn't generate <a href="#compilation">syntactic</a> or <a href="#compilation">semantic errors</a>.</span>
            </li>
        </ul><br>
        <li>Stored values</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#variables">Variable</a></elm-></span>
                <span>Accesses the value stored in a previously declared <a href="#variables">variable</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#temporary-variables">Temporary variable</a></elm-></span>
                <span>Accesses the value stored in a <a href="#temporary-variables">temporary variable</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#routine-parameters">Routine parameter</a></elm-></span>
                <span>Accesses the value that was passed to a <a href="#variables">routine parameter</a>.</span>
            </li>
        </ul><br>
        <li>Routine calls</li>
        <ul class="summary-list">
            <li>
                <span><elm-><a href="#function-calls">Function call</a></elm-></span>
                <span>Generates a value by calling a <a href="#functions">function</a> or <a href="#templates">function template</a>.</span>
            </li>
            <li>
                <span><elm-><a href="#operator-calls">Operator call</a></elm-></span>
                <span>Generates a value by calling an <a href="#operators">operator</a> or <a href="#templates">operator template</a>.</span>
            </li>
        </ul>
    </ul>
</moveto-doc->






<!-- TODO RENAME SYMBOL PATHS as they aren't just for symbols -->
<!--------------------------------------------------------------------->
<!-- Paths                                                           -->
<!--------------------------------------------------------------------->
<h1 id="language-structure.paths"></h1>
<moveto-doc->
    <p>
        Paths are used to reference things declared in in the code, either explicitly or implicitly, in order to retrieve or pass informations about them.<br>
        Any accessible module, namespace, symbol alias, primitive type, enum, struct, special type, routine, variable and temporary variable is considered a symbol.<br>
        Paths are a foundamental part of most <a href="#name-resolution">semantic elements</a>.
    </p>
    <p>
        Type paths are a subset of Symbol paths that point to symbols suitable to be used as types, such as primitive types, enums, structs and special types.
    </p>
    <p>
        Reflection paths are a subset of Symbol paths that can access compile time informations about the referenced symbol. These are detailedly explained in <a href="#reflection">Reflection</a>.
    </p>
    <syntax->
        <label- id="copy.syntax--path-standard">Standard path</label->
        <label- id="copy.syntax--path-type">Type path</label->
        <label- id="copy.syntax--path-reflection">Reflection path</label->
        <label- id="copy.syntax--path-name">Symbol name</label->
    </syntax->
</moveto-doc->









<!--------------------------------------------------------------------->
<!-- Core concepts                                                   -->
<!--------------------------------------------------------------------->
<h1 id="semantic-concepts"></h1>
<moveto-doc-></moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Scopes                                                          -->
<!--------------------------------------------------------------------->
<h1 id="scopes"></h1>
<moveto-doc->
    <p>
        <b>Scopes</b> define the <a href="#name-resolution"><b>path</b></a> to the <b>symbols</b> declared within them.<br>
        Any portion of code enclosed in <elm-><code>{</code><code>}</code></elm-> tokens defines a new scope.
        The only exception is the module scope, which contains anything declared in the module.
    </p>
    <p>
        Each scope can only contain certain types of <a href="#name-resolution">symbols</a>:
    </p>

    <div class="scope-table-container">
        <div class="table-container scope-table-left-container"><table class="scope-table-left">
            <tr><th class="medium"><div><span>Scope / Can contain</span></div></th></tr>
            <tr><th class="medium"><div><a href="#modules">       Module                                     </a></div></th></tr>
            <tr><th class="medium"><div><a href="#namespaces">    Namespace                                  </a></div></th></tr>
            <tr><th class="medium"><div><a href="#enums">         Enum<span class="hidden">&nbsp;*</span>    </a></div></th></tr>
            <tr><th class="medium"><div><a href="#structs">       Struct<span class="hidden">&nbsp;*</span>  </a></div></th></tr>
            <tr><th class="medium"><div><a href="#functions">     Function<span class="hidden">&nbsp;*</span></a></div></th></tr>
            <tr><th class="medium"><div><a href="#opertors">      Operator<span class="hidden">&nbsp;*</span></a></div></th></tr>
            <tr><th class="medium"><div><a href="#unnamed-scopes">Unnamed<br>scope    </a></div></th></tr>
        </table></div>
        <div class="table-container scope-table-right-container"><table class="scope-table-right">
            <tr>
                <th><div><a class="medium" href="#namespaces">    Namespace                                  </a></div></th>
                <th><div><a class="medium" href="#enums">         Enum<span class="hidden">&nbsp;*</span>    </a></div></th>
                <th><div><a class="medium" href="#structs">       Struct<span class="hidden">&nbsp;*</span>  </a></div></th>
                <th><div><a class="medium" href="#functions">     Function<span class="hidden">&nbsp;*</span></a></div></th>
                <th><div><a class="medium" href="#operators">     Operator<span class="hidden">&nbsp;*</span></a></div></th>
                <th><div><a class="medium" href="#variables">     Variable                                   </a></div></th>
                <th><div><a class="medium" href="#symbol-aliases">Symbol<br>alias                            </a></div></th>
                <th><div><a class="medium" href="#enums">         Enum<br>member                             </a></div></th>
                <th><div><a class="medium" href="#structs">       Struct<br>member                           </a></div></th>
                <th><div><a class="medium" href="#routines">      Routine<br>parameter                       </a></div></th>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div class="nobefore"><span>Inherited</span></div></td>
                <td class="scope-table-y"><div class="nobefore"><span>Inherited</span></div></td>
                <td class="scope-table-y"><div class="nobefore"><span>Inherited</span></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div class="nobefore noafter"><div>Yes<span class="hidden" style="min-width: fit-content; max-width: fit-content;">&nbsp;**</span></div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div class="nobefore noafter"><div>Yes<span class="hidden" style="min-width: fit-content; max-width: fit-content;">&nbsp;**</span></div></div></td>
            </tr>
            <tr>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-y"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
                <td class="scope-table-n"><div></div></td>
            </tr>
        </table></div>
    </div>
    <div>
        <syntax-note->
            * Also applies to the respective <a href="templates">template</a>.<br>
            ** Declared in the routine signature, but part of the routine scope.
        </syntax-note->
    </div>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Name resolution                                                 -->
<!--------------------------------------------------------------------->
<h1 id="name-resolution"></h1>
<moveto-doc->
    <p>
        <b><a href="#semantic-elements.declarations">User defined elements</a></b>, or <a href="#name-resolution">Symbols</a>, can be referenced to use them as <a href="#types">types</a>, access their value or perform <a href="#routine-calls">routine calls</a>.
        This is done through their <b>name</b> or <b>path</b>.
    </p>
    <p>
        The name is the <a href="#identifiers">identifier</a> that was used to declare the <a href="#name-resolution">symbol</a>, optionally followed, if the symbol is a <a href="#templates">template</a>,
        by <elm-><code>&lt;</code><code>&gt;</code></elm-> tokens containing the <a href="#types">types</a> that identify the generated <a href="#name-resolution">symbol</a>.<br>
        Names are used to reference <a href="#name-resolution">symbols</a> that are declared in the current <a href="#scopes">scope</a> or in one of the enclosing ones.
    </p>
    <p>
        Paths, instead, are used to reference <a href="#name-resolution">symbols</a> declared in <a href="#scopes">scopes</a> that are not parents of the current <a href="#scopes">scope</a>.<br>
        They consist of the names of the enclosing <a href="#scopes">scopes</a> of the <a href="#name-resolution">symbol</a> and the name of the <a href="#name-resolution">symbol</a> itself separated by <code>.</code> tokens, starting from the outermost.<br>
        The <code>.</code> token is used to access the children <a href="#name-resolution">symbols</a> of the <a href="#scopes">scope</a>.<br>
        Paths work in the same way as file paths, with <a href="#scopes">scopes</a> acting like directories.
    </p>
    <p>
        The path of a symbol can start from any of its enclosing <a href="#scopes">scopes</a>.<br>
        <a href="#name-resolution">Symbols</a> declared within unnamed <a href="#scopes">scopes</a> cannot be referenced from the outside.<br>
        The <code>module</code> identifier is used to reference the <a href="#scopes">scope</a> of the current <a href="#modules">module</a>.<br>
        A path that starts from the module <a href="#scopes">scope</a> of the current <a href="#modules">module</a> or any of the <a href="#import-directive">imported</a> ones is called an absolute path.
    </p>
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example</label->
        <div>
            <c->// Absolute path: module</c->


            <c->// Absolute path: module.s</c->
            <w->namespace</w-> s {
                <c->// Absolute path: module.s.fun</c->
                <t->void</t-> <f->fun</f->(<t->uint</t-> <p->n</p->) {
                    <c->//        ^</c->
                    <c->// Absolute path: module.s.fun.n</c->
                }
            }

            <w->namespace</w-> {
                <c->// No absolute path, cannot be referenced from outside</c->
                <t->uint</t-> n;
            }
        </div>
    </example->
    <example->
        <label->Example</label->
        <div>
            <c->// Absolute path: module</c->


            <c->// Absolute path: module.s</c->
            <w->namespace</w-> s {
                <c->// Absolute path: module.s.fun</c->
                <t->void</t-> <f->fun</f->(<t->uint</t-> <p->n</p->) {
                    <c->//        ^</c->
                    <c->// Absolute path: module.s.fun.n</c->
                }
            }

            <w->namespace</w-> {
                <c->// No absolute path, cannot be referenced from outside</c->
                <t->uint</t-> n;
            }
        </div>
    </example->
</moveto-examples->















<!--------------------------------------------------------------------->
<!-- Name shadowing                                                  -->
<!--------------------------------------------------------------------->
<h1 id="name-shadowing"></h1>
    <moveto-doc->
    <p>
        <a href="#name-resolution"><b>Symbols</b></a> in <b>different <a href="#scopes">scopes</a></b> can be declared using the <b>same <a href="#identifiers">identifier</a></b>. This is known as <b>name shadowing</b>.<br>
    </p>
    <p>
        When the <a href="#identifiers">identifier</a> is used, the <a href="#name-resolution">symbol</a> declared in the innermost <a href="#scopes">scope</a>, relatively to where the <a href="#identifiers">identifier</a> is used, always takes precedence.
        This can be avoided by starting the <a href="#name-resolution">path</a> from a parent <a href="#scopes">scope</a> so that the <a href="#identifiers">identifier</a> is not ambiguous.<br>
        Any <a href="#identifiers">identifier</a> can be shadowed, including <a href="#primitive-types">primitive types</a>, the <a href="#name-resolution"><code>module</code></a> <a href="#identifiers">identifier</a> and <a href="#name-resolution">symbols</a> from the <a href="#core-module">core module</a>.
    </p>
    <p>
        The first declaration in a scope is the only one that actually shadows eventual identifiers in parent scopes. Subsequent declarations that use the same identifier will refer to the symbol declared in the same scope.<br>
    </p>
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example</label->
        <div>
            <w->namespace</w-> s {
                <w->namespace</w-> {
                    <t->float</t-> n;
                    <c->// n references module.s.*unnamed*.n</c->
                }

                <t->void</t-> <f->n</f->(<t->uint</t-> <p->n</p->) {
                    <c->// n references module.s.n.n</c->
                }

                <c->// n references module.s.n</c->
            }
        </div>
    </example->

    <example->
        <label->Example</label->
        <div>
            <c->// Ok, declares a struct with name "t"</c->
            <w->strct</w-> t {
                <t->int</t-> n;
            }

            <t->void</t-> <f->main</f->(){
                <t->t</t-> t;            <c->// Ok, declares a variable with name "t" and type "module.t"</c->
                <c->//t a;</c->          <ce->// Error, "t" is a variable and not a type</ce->
                <c->//module.t t;</c->   <ce->// Error, redeclaration of "module.main.t"</ce->
                module.<t->t</t-> a;     <c->// Ok, declares a variable with name "a" and type "module.t"</c->
            }

        </div>
    </example->
</moveto-examples->






<!--------------------------------------------------------------------->
<!-- Multiple declarations                                           -->
<!--------------------------------------------------------------------->
<h1 id="multiple-declarations"></h1>
<moveto-doc->
    <p> //TODO linkkk
        Some types of symbol can be declared multiple times in the same scope.<br>
    </p>
    <p>
        <code><w->namespace</w-></code>.<br>
        All the declared namespaces with the same absolute path merge their contents.<br>
        <br>
        Routines.<br>
        Functions and routines declared in the same scope using the same identifier create a specialized routine.<br>
        This is explained in <a href="#routine-specialization">Routine specialization</a>.<br>
        The <code><f->main</f-></code> function cannot be specialized.<br>
        Structs.<br>
        Structs declared in the same scope using the same identifier create a specialized struct.<br>
        This is explained in <a href="#struct-specialization">Struct specialization</a>.<br>
        <br>
        Other symbols.<br>
        Multiple declarations of other symbols generate a semantic error. //TODO LINK
    </p>
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example</label->
        <div>
            <w->namespace</w-> a {     <c->// Ok, merges with the second declaration</c->
                <t->int</t-> n;        <c->// Ok</c->
                <t->int</t-> a;        <c->// Ok, shadows "module.a"</c->
            }
            <w->namespace</w-> a {     <c->// Ok, merges with the first declaration</c->
                <c->//int n;</c->      <ce->// Error, redeclaration of "module.a.n"</ce->
                <t->int</t-> b;        <c->// Ok</c->
            }
            <t->void</t-> <f->main</f->(){
                a.b <f->=</f-> <k->5</k->;      <c->// Ok</c->
            }

            <t->void</t-> <f->f</f->(<t->int</t-> <p->n</p->) { } <c->// Ok</c->
            <t->void</t-> <f->f</f->() { }      <c->// Ok, specialization of "module.f"</c->
        </div>
    </example->
</moveto-examples->








<!--------------------------------------------------------------------->
<!-- Left and right values                                           -->
<!--------------------------------------------------------------------->
<h1 id="left-and-right-values"></h1>
<moveto-doc->
    <p>
        Values can be left values or right values.<br>
        <b>Memory locations</b> which allow <b>changes</b> to their contents after being declared are considered <b>left values</b>.<br>
        Any other value is a <b>right value</b>.
    </p>
    <div class="table-container"><table>
        <tr>
            <th>Left values</th>
            <th>Right values</th>
        </tr>
        <tr>
            <td>Non-const <a href="#functions">parameters</a></td>
            <td><a href="#const-qualifier">Const</a> parameters</td>
        </tr>
        <tr>
            <td>Result of <a href="#element-indexing">element indexing operations</a> (<code>[</code><code>]</code> and <code>.</code>)</td>
            <td>Result of <a href="#function-calls">function calls</a> and <a href="#operator-calls">operator calls</a></td>
        </tr>
        <tr>
            <td>Non-const <a href="#variables">varibales</a></td>
            <td><a href="#const-qualifier">Const</a> variables</td>
        </tr>
        <tr>
            <td><a href="#temporary-variables">Temporary variables</a></td>
            <td><a href="#enums">Enum</a> elements</td>
        </tr>
        <tr>
            <td></td>
            <td><a href="#literals">Literals</a></td>
        </tr>
    </table></div>
    <p>
        Left values can be used anywhere right values can.<br>
        Left and right values are also called l-values and r-values.
    </p>
</moveto-doc->











<!--------------------------------------------------------------------->
<!-- Undefined values                                                -->
<!--------------------------------------------------------------------->
<h1 id="undefined-values"></h1>
<moveto-doc->
    <p>
        <b>Any unknown value</b> of any <a href="#types">type</a> is an <b>undefined value</b>.<br>
        The language can generate undefined values for a variety of reasons.<br>
        Such values are usually the result of errors that occurred during the execution of a <a href="#functions">function</a> and don't contain any useful information.<br>
        Uninitialized <a href="#variables">variables</a> also have undefined value.
    </p>
    <p>
        Generating undefined values during runtime doesn't stop the execution and is not signaled in any way, nor is it detectable.<br>
        The <a href="#modules">module</a> is responsible for preventing, discarding or documenting undefined values.
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Undefined behaviour                                             -->
<!--------------------------------------------------------------------->
<h1 id="undefined-behaviour"></h1>
<moveto-doc->
    <p>
        Certain actions cause undefined behaviour.<br>
        <b>Undefined behaviour</b> means that the <b>code <a href="#compilation">compiles</a> with no errors</b>, but the <b>runtime behaviour is unknown</b> and anything could happen.<br>
        The software could break, have bugs or work just fine. One cannot know.
    </p>
    <p>
        As with <a href="#undefined-values">undefined values</a>, the <a href="#modules">module</a> is responsible for preventing or documenting undefined behaviours.
    </p>
</moveto-doc->
















<!--------------------------------------------------------------------->
<!-- Compile time expression                                         -->
<!--------------------------------------------------------------------->
<h1 id="compile-time-expressions"></h1>
<moveto-doc->
    <p>
        <b>Compile time expressions</b> are <a href="#expressions">expressions</a> that can be <b>calculated during</b> the <a href="#compilation"><b>compilation</b></a> phase.<br>
        These <a href="#expressions">expressions</a> are required in certain syntaxes, such as <a href="#operators">operator</a> declarations, <a href="#enums">enum</a> elements, <a href="#template">template</a> <a href="#name-resolution">paths</a> and <a href="#specialization-constraints">specialization constraints</a>.<br>
    </p>
    <ul>
        <li>Whether an <a href="#expressions">expression</a> can be compile time or not is determined in the following way:</li>
        <ul>
            <li>
                A <a href="#routine">routine</a> is suitable for compile time <a href="#routine-calls">calls</a> if it is not declared with the <a href="#runtime-qualifier"><code><w->runtime</w-></code> qualifier</a>,
                it doesn't contain <a href="#inline-cpp">inline C++</a> or <a href="#inline-glsl">inline GLSL</a> statements and
                every <a href="#routine-calls">routine call</a> within its body, including constructors and destructor called implicitly or not, are compile time.
            </li>
            <li>
                A <a href="#routine-calls">routine call</a> is compile time if the <a href="#routines">routine</a> is suitable for compile time <a href="#routine-calls">calls</a> and
                all of its <a href="#routine-parameters">arguments</a> are compile time expressions.
            </li>
            <li>
                A <a href="#variables">variable</a> or <a href="#temporary-variables">temporary variable</a> is compile time if its initializer expression is compile time,
                all the <a href="#routine-calls">routine calls</a> in which it is used as <a href="#routine-calls">argument</a> to a <a href="#references">reference</a> <a href="#routine-parameters">parameter</a> refer to routines that are suitable for compile time calls and
                all the additional <a href="#routine-parameters">arguments</a> of such <a href="#routine-calls">calls</a> are compile time expressions.
            </li>
            <li>
                <a href="#literals">Literals</a>, <a href="#enums">enum</a> elements, <a href="#templates">template</a> parameters and <a href="#try-expression"><code><w->try</w-></code> expressions</a> are always compile time.
            </li>
        </ul>
    </ul>
    <p>
        For consistency reasons, cases in which a <a href="#routine">routine</a> is runtime but it doesn't actually need to run during runtime,
        either by containing empty <a href="#inline-cpp">inline C++</a> or <a href="#inline-glsl">inline GLSL</a> statements or
        by containing runtime <a href="#routine-calls">routine calls</a> that are empty or have the aforementioned properties,
        are not considered suitable for compile time <a href="#routine-calls">calls</a>, even though it would be possible to determine their <a href="#return-statement">return value</a> and operations on reference <a href="#routine-parameters">parameters</a> during the <a href="#compilation">compilation</a> process.
    </p>
    <br><br><br>
    <p>
        Notice that compile time expressions are not required to run during compile time, and they don't affect <a href="#value-precomputation">optimizations</a> in any way.<br>
        Compile time expressions are exclusively used to determine which <a href="#expressions">expressions</a> can be used in contexts where a compile time value is required.
    </p>
    <p>
        Any routine declared in <a href="#standard-modules">standard modules</a> that could change the observable behaviour of the program if executed during compile time is properly marked as <a href="#runtime-qualifier"><code><w->runtime</w-></code></a>,
        therefore is not possible to accidentally modify the program behaviour by inadvertently executing <a href="#routines">routines</a> that are not supposed to be executed during the <a href="#compilation">compilation</a> process.
    </p>
    <p>
        //TODO template<t = ulong> t random(t from, t to)
        //TODO template<t = ulong> t random(t to) //from 0
    </p>
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example</label->
        <div>
            <w->from</w-> <s->&lt;random&gt;</s-> <w->include</w-> rand;

            <w->enum</w-> q : <t->bool</t-> {
                to_be     = <k->0</k->,
                not_to_be = <k->1</k->
            }

            <c->// Suitable for compile time calls</c->
            <t->bool</t-> <f->add_1</f->(<t->ulong</t-> <p->n</p->) {
                <w->return</w-> n <f->+</f-> <k->1</k->;
            }


            <t->bool</t-> <f->f</f->(<t->ulong</t-> <p->n</p->) {
                <t->ulong</t-> a = <k->True</k->;

                <c->// return q::elms[n];</c->          <ce->// Error, "n" is not a compile time expression</ce->
                <c->// return q[add_1(n)];</c->   <ce->// Error, the routine call is not compile time</ce->
                <c->// return q[rand(2)];</c->    <ce->// Error, the routine "random.rand" is not suitable for compile time calls</ce->
                <w->return</w-> q<f->[</f->n<f->]</f->;             <c->// Ok</c->
            }
        </div>
    </example->
</moveto-examples->














