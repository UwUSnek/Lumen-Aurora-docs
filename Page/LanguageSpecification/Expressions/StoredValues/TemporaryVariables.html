
<!--------------------------------------------------------------------->
<!-- Temporary variables                                             -->
<!--------------------------------------------------------------------->
<h1 id="temporary-variables"></h1>
<moveto-doc->
    <p>
        <b>Temporary variables</b> are a special set of identifiers that have <b>dynamic type</b> and don't need to be declared.<br>
        These identifiers are meant to replace local variables whose only purpose is holding values that don't need to be used more than a few times.<br>
        A temporary variable is identified by the <code>$</code> character followed by a <a href="#integral-types"><code><t->ulong</t-></code></a> <a href="#literals">literal</a>, which denotes its name.<br>
    </p>
    <p>
        They are always <b>function-level scoped</b> and cannot be used outside of function definitions.<br>
        There is no limit to the number of temporary variables a function can use.<br>
    </p>
    <p>
        The type of a temporary variable can only be changed through direct assignments (<a href="#assignments"><code>=</code></a>) and it must be unambiguously determinable in order for the variable to be evaulated.
        This means that reading the value of a temporary variable after one or more branches that may have assigned it different types is not allowed and will result in a semantic error.<br>
        Using temporary variables whose type is undefined will also result in a semantic error.
    </p>
    <p>They act as normal variables for anything else.</p>
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example 1</label->
        <div>
            <t->uint3</t-> <f->fun1</f->(<t->bool</t-> <p->arg</p->) {
                $0 = <k->1</k->;             <c->// Ok, $0 has type uint and value 1</c->
                <c->//$2 = $1;          </c-><ce->// Error, $1 has undefined type</ce->

                <t->uint3</t-> vec = { <k->0</k->, <k->1</k->, <k->2</k-> };
                $2 = <k->true</k->;          <c->// Ok, $2 has type b and value true</c->
                $2 = <k->vec</k->;           <c->// Ok, $2 has type uint3 and value { 0, 1, 2 }</c->
            }

            <t->void</t-> <f->fun2</f->(<t->uint3</t-> <p->vec</p->) {
                <c->//uint var = $2;    </c-><ce->// Error, $2 has undefined type. fun2.$2 has nothing to do with fun1.$2</ce->
            }

            <c->//uint var = $9;        </c-><ce->// Error, temporary variables cannot be used outside of functions</ce->
        </div>
    </example->
    <example->
        <label->Example 2</label->
        <div>
            <t->void</t-> <f->fun3</f->(<t->bool</t-> <p->arg</p->, <t->uint2</t-> &<p->ref</p->) {
                <w->if</w->(arg) $0 = <k->1</k->;             <c->// $0 has type uint</c->
                <w->else</w->    $0 = { <k->0</k->, <k->1</k-> };      <c->// $0 has type uint2</c->
                <c->//ref = $0;                 </c-><ce->// Error, cannot determine the type of $0</ce->
                $0 = ref;                   <c->// Ok, $0 has type uint2 and the same value as ref</c->

                <w->if</w->(arg) $0 = { <k->0</k->, <k->1</k-> };      <c->// $0 has type uint2</c->
                <w->else</w->    $0 = { <k->2</k->, <k->3</k-> };      <c->// $0 has type uint2</c->
                ref = <k->$0</k->;                   <c->// Ok, $0 has type uint2</c->
            }
        </div>
    </example->
</moveto-examples->