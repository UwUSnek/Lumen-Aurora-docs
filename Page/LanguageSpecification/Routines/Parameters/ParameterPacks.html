
<!--------------------------------------------------------------------->
<!-- Parameter packs                                                 -->
<!--------------------------------------------------------------------->
<h1 id="parameter-packs"></h1>
<moveto-doc->
    <p>
        <b>Parameter packs</b> allow <a href="#functions">functions</a> to take an <b>arbitrary number</b> of <b>arguments</b>.<br>
        They are decalred in the same way as <a href="#routine-parameters">routine parameters</a>, but their name is followed by the <code>...</code> <a href="#meta-keywords">meta keyword</a> and their type can be a <a href="#template-parameter-packs">template parameter pack</a>.<br>
        When a <a href="#template-parameter-packs">template parameter pack</a> is used as type, each element of the parameter pack can have a different type. The types are defined by the passed arguments.<br>
        When a <a href="#types">type</a> or a type <a href="#templates">template parameter</a> is used, all the arguments have the same type. The type is determined by following the implicit conversion rules for template routine calls.//TODO link
    </p>
    <p>
        Parameter packs take zero or more arguments and can only be used as arguments of routine parameters.<br>
        The taken arguments are the ones that remain after all the routine parameters have been assigned their argument. <a href="#optional-parameters">Optional parameters</a> take priority over the arguments.<br>
        Arguments and parameter pack elements are all initialized in the same order in which they were declared.
    </p>
    <p>
        Each <a href="#funcitons">function</a> can only use a single parameter pack.<br>
        <a href="#operators">Operators</a> cannot use parameter packs.<br>
        Parameter packs cannot be <a href="#optional-parameters">optional</a>.
    </p>
    <syntax->
        <label- id="copy.syntax--declaration-function-parameter-pack">Declaration syntax</label->
    </syntax->
</moveto-doc->
<moveto-examples->
    <example->
        <label->Example 1</label->
        <div>
            <w->struct</w-> <t->NoArg</t-> { };

            <c->// This function returns the value of the argument in the middle, or a value of type NoArg if an even number of arguments is passed</c->
            <w->template</w-> &lt;<w->type</w-> <t->t</t->, <w->type</w-> <t->u</t->..., <w->type</w-> <t->v</t->&gt; <t->auto</t-> <f->get_middle_arg</f->(<t->t</t-> <p->l</p->, <t->u</t-> <p->c</p->..., <t->v</t-> <p->r</p->) {
                <w->return</w-> <f->get_middle_arg</f->(c);
            }
            <w->template</w-> &lt;<w->type</w-> <t->t</t->, <w->type</w-> <t->u</t->&gt; <t->NoArg</t-> <f->get_middle_arg</f->(<t->t</t-> <p->l</p->, <t->u</t-> <p->r</p->) {
                <w->return</w-> { };
            }
            <w->template</w-> &lt;<w->type</w-> <t->t</t->&gt; <t->t</t-> <f->get_middle_arg</f->(<t->t</t-> <p->c</p->) {
                <w->return</w-> c;
            }


            <t->void</t-> <f->main</f->(){
                <t->auto</t-> a = <f->get_middle_arg</f->(<k->5</k->, <k->false</k->, <k->1</k->, <k->17</k->, <k->true</k->);  <c->// a has type ulong and value 1</c->
                <t->auto</t-> b = <f->get_middle_arg</f->(<k->1</k->, <k->2</k->);                   <c->// b has type NoArg</c->
            }
        </div>
    </example->
    <p>
        Parameter packs can be used in conjunction with the <a href="#abbreviated-template-syntax">abbreviated template syntax</a>.<br>
        This is explained in <a href="#abbreviated-template-syntax">Abbreviated template syntax</a>.
    </p>
    <example->
        <label->Example 2 - Summation function</label->
        <div>
            <t->auto</t-> <f->sum</f->(?<t->t</t-> <p->a</p->, ?<t->u</t->... <p->vals</p->...) {
                <w->return</w-> a <f->+</f-> <f->sum</f->(vals);
            }
            <t->auto</t-> <f->sum</f->(?<t->t</t-> <p->a</p->, ?<t->u</t-> <p->b</p->) {
                <w->return</w-> a <f->+</f-> b;
            }


            <t->void</t-> <f->main</f->(){
                <t->int</t-> n = <k->5</k->;
                <t->float</t-> r = <f->sum</f->(<k->5.9</k->, <k->n</k->, <k->1</k->, <k->true</k->);  <c->// r has value 12.9</c->
            }
        </div>
    </example->
</moveto-examples->