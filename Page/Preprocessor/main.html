
<!--------------------------------------------------------------------->
<!-- Preprocessor                                                    -->
<!--------------------------------------------------------------------->
<h1 id="preprocessor"></h1>
<moveto-doc->
    <p>
        The <b>preprocessing</b> phase <b>precedes</b> the <b>compilation</b> of the source code.<br>
        It parses out <a href="#line-continuation-token">line continuation tokens</a> and <a href="#comments">comments</a> and executes preprocessor directives.
    </p>
    <p>
        <b>Preprocessor directives</b> are special instructions that allow the <b>code</b> of a module to be <b>programmatically modified</b>.<br>
        All the preprocessor directives are identified by the <code>#</code> character followed by their name and definition.<br>
        The name of preprocessor directives is always case sensitive.
    </p>
</moveto-doc->
<moveto-internal->
    <p>
        Preprocessor operations are performed in the following order:<br>
        &nbsp;&nbsp;1. Line stitching: <a href="#line-continuation-token">Line continuation tokens</a> are removed.<br>
        <!-- &nbsp;&nbsp;2. Literals: String and char literals are parsed, and escape sequences within them are replaced with their UTF-8 representation.<br> -->
        &nbsp;&nbsp;3. Comment Removal: <a href="#comments">Comments</a> are removed from the code.<br>
        &nbsp;&nbsp;4. File stitching: <a href="include-statement">Include statements</a> are processed recursively, merging all referenced files into one.<br>
        &nbsp;&nbsp;5. Macro Definitions: <a href="#preprocessor-macro">Macro</a> definitions are evaluated and then removed from the code.<br>
        &nbsp;&nbsp;6. Macro Calls: <a href="#preprocessor-macro">Macro</a> calls are replaced with their corresponding definitions, substituting each parameter with the provided argument, recursively.<br>
        <!-- &nbsp;&nbsp;&nbsp;&nbsp;6.1. Step n.2 is performed on the lines containing code that was generated by a <a href="#preprocessor-macro">macro</a> call, allowing it to create new string and char literals. -->
        <br>
        <br>
        <br>
        <br>
        <br>
        //FIXME MOVE ESCAPE SEQUENCE REPLACEMENT TO TOKENIZATION STEP (actual compiler)
        //FIXME during preprocessing, simply skip them







        //FIXME PARSE LITERALS A SECOND TIME AFTER REPLACING MACROS,
        //FIXME or maybe move the literal parsing phase somewhere else and remove step 6.1.
        //FIXME moving requires to adapt comment removal, file stitching and macro phases, as now they will have to manually skip any unparsed literal

        //FIXME PARSE INCLUDE FILE PATHS SEPARATELY. don't allow the standard string escapes (idk)



        //FIXME UPDATE DESCRIPTIONS OF ALL THE STUFF
        //FIXME make sure their behaviours align with what is written here.

        //FIXME  > literals must end in the same file and line as they start. (including the ones generated by macros)
        //FIXME  > comments are removed before stitching the files
    </p>
</moveto-internal->


#include "./Page/Preprocessor/LineContinuationToken.html"
#include "./Page/Preprocessor/Comments.html"
#include "./Page/Preprocessor/IncludeStatement.html"
#include "./Page/Preprocessor/Macros.html"
#include "./Page/Preprocessor/Conditionals.html"
