<!--------------------------------------------------------------------->
<!-- Line splicing                                                   -->
<!--------------------------------------------------------------------->
<h1 id="line-splicing"></h1>
<moveto-doc->
    <ce-full-size->
        NOTICE:<br>
        Splitting lines is a very easy way to create unreadable code.<br>
        Proper language syntax should be preferred whenever possible.
    </ce-full-size->
    <p>
        <b>Line splicing</b> can be used to <b>merge multiple lines</b> and allow <a hreaf="#macros">macros</a>, <a href="#comments">comments</a>,
        preprocessor directives and <a href="#tokens">tokens</a> to be written across multiple lines.<br>
    </p>
    <ul>
        The preprocessor provides 2 types of line splicing tokens:
        <ul>
            <li>
                Line continuation token: It consists of a <code>&bsol;</code> immediately followed by a <code><nl-></nl-></code> character.<br>
                This type of line splicing doesn't trim any whitespace. All adjacent tabs and spaces are preserved.
                Only the token itself (which includes the <code><nl-></nl-></code> character) is removed.
            </li>
            <li>
                Line junction token: It consists of two <code>&bsol;</code> characters immediately followed by a <code><nl-></nl-></code> character.<br>
                This type of line splicing trims any whitespace before the token and at the start of the next line.
                This effectively allows the Line junction token to remove indentation and/or be freely aligned vertically.
            </li>
        </ul>
    </ul>
    <p>
        Line splicing tokens are the very first thing that's processed by the preprocessor.
        This makes it possible to use them inside <a href="#comments">comments</a> or preprocessor directives, thought they cannot be nested.<br>
        Using a line splicing token at the end of a file is allowed and has no effect.
    </p>

    <syntax->
        <label- id="copy.syntax--preprocessor-line-splicing-tokens">Line splicing tokens</label->
    </syntax->
</moveto-doc->
<moveto-examples->
    <split-example-container->
        <split-example-container-left->
            <example->
                <label->Example 1</label->
                <div>
                    <c->// single line comment </c-><regex-token->&bsol;</regex-token->
                    <c->on two lines</c->


                    <k->#include</k-><regex-token->&bsol;</regex-token->
                        <s->&lt;ma</s-><regex-token->&bsol;&bsol;</regex-token->
                        <s->th</s-><regex-token->&bsol;&bsol;</regex-token->
                               <s->&gt;</s->


                    <t->vo</t-><regex-token->&bsol;</regex-token->
                    <t->id</t-> <f->fun</f-><regex-token->&bsol;</regex-token->
                    <f->ction</f->() {
                        <t->uint</t-> va<regex-token->&bsol;&bsol;</regex-token->
                        r = <k->0</k->, b = <k->0</k->;
                        v    <regex-token->&bsol;&bsol;</regex-token->
                        ar + <regex-token->&bsol;&bsol;</regex-token->
                             <regex-token->&bsol;&bsol;</regex-token->
                        = <k->b</k->;
                    }
                </div>
            </example->
        </split-example-container-left->
        <split-example-container-right->
            <example->
                <label->Code after line splicing</label->
                <div>
                    <c->// single line comment on two lines</c->


                    <k->#include</k->    <s->&lt;math&gt;</s->


                    <t->void</t-> <f->function</f->() {
                        <t->uint</t-> var <f->=</f-> <k->0</k->, b <f->=</f-> <k->0</k->;
                        var <f->+=</f-> <k->b</k->;
                    }
                </div>
            </example->
        </split-example-container-right->
    </split-example-container->
    <split-example-container->
        <split-example-container-left->
            <example->
                <label->Example 2</label->
                <div>
                    <t->void</t-> ma&bsol;<regex-token->&bsol;&bsol;</regex-token->   <ce->Error, unexpected token "\"</ce->

                    <c->in(){}</c->      <ce->Error,  unexpected token "in"</ce->
                </div>
            </example->
        </split-example-container-left->
        <split-example-container-right->
            <example->
                <label->Code after line splicing</label->
                <div>
                    <t->void</t-> <f->ma</f->&bsol;  <c->// &lt; This doesn't count as a line continuation token:</c->
                    <c->in(){}    //   the replacement step has already been performed</c->
                </div>
            </example->
        </split-example-container-right->
    </split-example-container->
</moveto-examples->
<moveto-internal->
    <ul>
        Line splicing tokens are <b>not</b> considered whitespace and are simply removed during the preprocessing phase.<br>
        This means that they can be used inside of any literal, including Strings and Character literals.
    </ul>
    <p>
        Because of how the parser is implemented, any whitespace near a Line junction token is considered to be part of it,
        even though the token's syntax doesn't enforce the presence of whitespace characters.
    </p>
</moveto-internal->
